(function(){"use strict";var e={4137:function(e,a,o){var t=o(5130),r=o(6768),l=o(9547),i=o(1541);function n(e,a,o,t,n,c){const s=(0,r.g2)("NavBar"),u=(0,r.g2)("SideBar"),d=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.Wv)(l.E,null,{default:(0,r.k6)((()=>[t.isLogin||t.authorize?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(s,{key:0})),t.authorize?((0,r.uX)(),(0,r.Wv)(u,{key:1})):(0,r.Q3)("",!0),(0,r.bF)(i.Y,null,{default:(0,r.k6)((()=>[(0,r.bF)(d)])),_:1})])),_:1})}var c=o(4232),s=o(782);const u={class:"navbar-top"},d={class:"navbar-actions"},m={class:"cart"},p={key:0,class:"cart-count"},v={class:"navbar-bottom"};var b={__name:"NavBar",setup(e){const a=(0,s.Pj)(),o=(0,r.EW)((()=>a.state.carrito.length));return(e,a)=>{const t=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",u,[a[2]||(a[2]=(0,r.Fv)('<img src="/logo.jpeg" alt="Logo" class="logo" data-v-7ca44dca><div class="search-container" data-v-7ca44dca><div class="category-select" data-v-7ca44dca>Categorias</div><input type="text" placeholder="Estoy buscando..." class="search-input" data-v-7ca44dca><span class="search-icon" data-v-7ca44dca>🔍</span></div>',2)),(0,r.Lk)("div",d,[(0,r.bF)(t,{to:"/cart",class:"cart-link",title:"Ver carrito"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",m,[a[0]||(a[0]=(0,r.Lk)("i",{class:"mdi mdi-cart-outline"},null,-1)),o.value>0?((0,r.uX)(),(0,r.CE)("span",p,(0,c.v_)(o.value),1)):(0,r.Q3)("",!0)])])),_:1}),(0,r.bF)(t,{to:"/login",class:"login-link",title:"Iniciar sesión"},{default:(0,r.k6)((()=>a[1]||(a[1]=[(0,r.Lk)("i",{class:"mdi mdi-account"},null,-1)]))),_:1,__:[1]})])]),(0,r.Lk)("div",v,[(0,r.Lk)("nav",null,[(0,r.bF)(t,{to:"/"},{default:(0,r.k6)((()=>a[3]||(a[3]=[(0,r.eW)("INICIO")]))),_:1,__:[3]}),(0,r.bF)(t,{to:"/catalog"},{default:(0,r.k6)((()=>a[4]||(a[4]=[(0,r.eW)("CATÁLOGO")]))),_:1,__:[4]}),(0,r.bF)(t,{to:"/contact"},{default:(0,r.k6)((()=>a[5]||(a[5]=[(0,r.eW)("CONTACTANOS")]))),_:1,__:[5]}),(0,r.bF)(t,{to:"/about"},{default:(0,r.k6)((()=>a[6]||(a[6]=[(0,r.eW)("ACERCA DE")]))),_:1,__:[6]}),(0,r.bF)(t,{to:"/quote"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("COTIZACIÓN")]))),_:1,__:[7]})])])])}}},g=o(1241);const f=(0,g.A)(b,[["__scopeId","data-v-7ca44dca"]]);var k=f,h=(o(4114),o(144)),_=o(1387),y=o(9319),L=o(5526),C=o(365),F=o(8368),V=o(1415),w=o(8210),E=o(3051);const A={class:"sidebar-header"},P={class:"logo-container"},S={class:"sidebar-footer"};var I={__name:"SideBar",setup(e){const a=(0,_.rd)(),o=(0,s.Pj)(),t=(0,h.KR)(!0),l=(0,r.EW)((()=>o.state.rol)),i=[{title:"Dashboard",to:"/dashboard",icon:"mdi-view-dashboard",rolesPermitidos:["ADMINISTRADOR"]},{title:"Productos",to:"/products",icon:"mdi-package-variant",rolesPermitidos:["ADMINISTRADOR"]},{title:"Categorías",to:"/category",icon:"mdi-tag-multiple",rolesPermitidos:["ADMINISTRADOR"]},{title:"Inventario",to:"/inventory",icon:"mdi-warehouse",rolesPermitidos:["ADMINISTRADOR"]},{title:"Reportes",to:"/reports",icon:"mdi-chart-line",rolesPermitidos:["ADMINISTRADOR"]},{title:"Configuración",to:"/settings",icon:"mdi-cog",rolesPermitidos:["ADMINISTRADOR"]},{title:"Mis Compras",to:"/shopping",icon:"mdi-cart",rolesPermitidos:["CLIENTE"]},{title:"Perfil",to:"/perfil",icon:"mdi-account",rolesPermitidos:["CLIENTE"]}],n=(0,r.EW)((()=>i.filter((e=>e.rolesPermitidos.includes(l.value))))),u=()=>{o.commit("clearUser"),a.push("/login")};return(e,a)=>((0,r.uX)(),(0,r.Wv)(E.e,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),app:"",permanent:"",class:"custom-sidebar",width:"280"},{append:(0,r.k6)((()=>[(0,r.Lk)("div",S,[(0,r.bF)(y.D,{class:"logout-btn",variant:"outlined",block:"",onClick:u},{default:(0,r.k6)((()=>[(0,r.bF)(C.w,{left:""},{default:(0,r.k6)((()=>a[4]||(a[4]=[(0,r.eW)("mdi-logout")]))),_:1,__:[4]}),a[5]||(a[5]=(0,r.eW)(" Cerrar Sesión "))])),_:1,__:[5]})])])),default:(0,r.k6)((()=>[(0,r.Lk)("div",A,[(0,r.Lk)("div",P,[(0,r.bF)(C.w,{class:"logo-icon",size:"40"},{default:(0,r.k6)((()=>a[1]||(a[1]=[(0,r.eW)("mdi-store")]))),_:1,__:[1]}),a[2]||(a[2]=(0,r.Lk)("div",{class:"logo-text"},[(0,r.Lk)("h3",null,"Admin Panel"),(0,r.Lk)("span",{class:"subtitle"},"Gestión")],-1))])]),(0,r.bF)(L.G,{class:"custom-divider"}),(0,r.bF)(F.x8,{class:"custom-list",nav:""},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.value,((e,o)=>((0,r.uX)(),(0,r.Wv)(V.g,{key:o,to:e.to,link:"",class:"custom-list-item","active-class":"active-item"},{prepend:(0,r.k6)((()=>[(0,r.bF)(C.w,{class:"item-icon"},{default:(0,r.k6)((()=>[(0,r.eW)((0,c.v_)(e.icon),1)])),_:2},1024)])),append:(0,r.k6)((()=>a[3]||(a[3]=[(0,r.Lk)("div",{class:"active-indicator"},null,-1)]))),default:(0,r.k6)((()=>[(0,r.bF)(w.U,{class:"item-title"},{default:(0,r.k6)((()=>[(0,r.eW)((0,c.v_)(e.title),1)])),_:2},1024)])),_:2},1032,["to"])))),128))])),_:1})])),_:1},8,["modelValue"]))}};const R=(0,g.A)(I,[["__scopeId","data-v-107a048b"]]);var W=R,D={components:{NavBar:k,SideBar:W},setup(){const e=(0,s.Pj)(),a=(0,_.lq)(),o=(0,r.EW)((()=>e.state.authorize)),t=(0,r.EW)((()=>"/login"===a.path||"/login/"===a.path));return{authorize:o,isLogin:t}}};const O=(0,g.A)(D,[["render",n]]);var N=O;const U=()=>{try{const e=localStorage.getItem("userStore");if(e){const a=JSON.parse(e);return{nombre:a.nombre||"",id:a.id||"",apellido:a.apellido||"",correo:a.correo||"",rol:a.rol||"",authorize:a.authorize||!1,productoSeleccionado:a.productoSeleccionado||null,carrito:a.carrito||[]}}}catch(e){console.error("Error al cargar datos del localStorage:",e)}return{nombre:"",id:"",apellido:"",correo:"",rol:"",authorize:!1,productoSeleccionado:null,carrito:[]}},x=e=>{try{localStorage.setItem("userStore",JSON.stringify({id:e.id,nombre:e.nombre,apellido:e.apellido,correo:e.correo,rol:e.rol,authorize:e.authorize,productoSeleccionado:e.productoSeleccionado,carrito:e.carrito}))}catch(a){console.error("Error al guardar datos en localStorage:",a)}},X=(0,s.y$)({state:{...U()},mutations:{setId(e,a){e.id=a,x(e)},setNombre(e,a){e.nombre=a,x(e)},setApellido(e,a){e.apellido=a,x(e)},setCorreo(e,a){e.correo=a,x(e)},setRol(e,a){e.rol=a,x(e)},setAuthorize(e,a){e.authorize=a,x(e)},setUserData(e,a){e.id=a.id||"",e.nombre=a.nombre||"",e.apellido=a.apellido||"",e.correo=a.correo||"",e.rol=a.rol||"",e.authorize=a.authorize||!1,e.productoSeleccionado=a.productoSeleccionado||null,e.carrito=a.carrito||[],x(e)},clearUser(e){e.id="",e.nombre="",e.apellido="",e.correo="",e.rol="",e.authorize=!1,e.productoSeleccionado=null,e.carrito=[],localStorage.removeItem("userStore")},setProductoSeleccionado(e,a){e.productoSeleccionado=a,x(e)},agregarAlCarrito(e,a){e.carrito.push(a),x(e)},limpiarCarrito(e){e.carrito=[],x(e)}},getters:{fullName:e=>`${e.nombre} ${e.apellido}`,isLoggedIn:e=>!!e.correo&&e.authorize,isAuthorized:e=>e.authorize,getUserData:e=>({id:e.id,nombre:e.nombre,apellido:e.apellido,correo:e.correo,rol:e.rol,authorize:e.authorize}),getProductoSeleccionado:e=>e.productoSeleccionado,getCarrito:e=>e.carrito}});var K=X;function j(e,a,o,t,l,i){const n=(0,r.g2)("HeaderCarousel"),c=(0,r.g2)("ProductComponent"),s=(0,r.g2)("OffertLaptopComponent"),u=(0,r.g2)("OffertComboComponent"),d=(0,r.g2)("PatherComponent"),m=(0,r.g2)("FooterComponent");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(n),(0,r.bF)(c),(0,r.bF)(s),(0,r.bF)(u),(0,r.bF)(d),(0,r.bF)(m)])}var T=o(3285),z=o(5595);const M={class:""};function $(e,a,o,t,l,i){return(0,r.uX)(),(0,r.CE)("div",M,[(0,r.bF)(T.n,{cycle:"",height:"700","show-arrows":"hover","hide-delimiter-background":""},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.images,((e,a)=>((0,r.uX)(),(0,r.Wv)(z.q,{key:a,src:e,cover:""},null,8,["src"])))),128))])),_:1})])}var q={name:"HeaderCarousel",data(){return{images:["/home/header/image1.png","/home/header/image2.png","/home/header/image3.png"]}}};const B=(0,g.A)(q,[["render",$]]);var J=B,G=(o(8111),o(2489),o(4373));const H=G.A.create({});H.interceptors.response.use((e=>e),(e=>(e.response.status,Promise.reject(e))));var Q=H;const Z="http://localhost:8080/api";function Y(e){return Q.get(`${Z}/productos`,{headers:{Authorization:`Bearer ${e}`}})}function ee(e){return Q.post(`${Z}/productos`,e)}function ae(e,a){return Q.put(`${Z}/productos/${a}`,e)}const oe={class:"carousel-wrapper"},te=["src"],re={class:"description"},le={class:"price"},ie=["onClick"];var ne={__name:"ProductComponent",setup(e){const a=(0,h.KR)([]),o=(0,h.KR)(null),t=(0,s.Pj)(),l=(0,_.rd)(),i=async()=>{try{const e=await Y();e?.data&&(a.value=e.data.filter((e=>e.estado&&null!==e.imagen)))}catch(e){console.error("Error al cargar productos",e)}},n=e=>`http://localhost:8080/api/productos/${e}/imagen`,u=()=>{o.value.scrollLeft-=300},d=()=>{o.value.scrollLeft+=300},m=e=>{t.commit("setProductoSeleccionado",e),l.push("/productDetail")};return(0,r.sV)((()=>{i()})),(e,t)=>((0,r.uX)(),(0,r.CE)("section",oe,[t[0]||(t[0]=(0,r.Lk)("h2",{class:"carousel-title"},"Productos Nuevos",-1)),(0,r.Lk)("button",{class:"arrow left",onClick:u},"←"),(0,r.Lk)("button",{class:"arrow right",onClick:d},"→"),(0,r.Lk)("div",{ref_key:"carousel",ref:o,class:"carousel-container"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.value,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"product-card"},[(0,r.Lk)("img",{src:n(e.id),alt:"Producto"},null,8,te),(0,r.Lk)("h3",null,(0,c.v_)(e.nombre),1),(0,r.Lk)("p",re,(0,c.v_)(e.caracteristicas),1),(0,r.Lk)("p",le,"S/ "+(0,c.v_)(e.precioVenta),1),(0,r.Lk)("button",{class:"buy-button",onClick:a=>m(e.id)},"Comprar",8,ie)])))),128))],512)]))}};const ce=(0,g.A)(ne,[["__scopeId","data-v-64606823"]]);var se=ce;const ue={class:"carousel-wrapper"},de={ref:"carousel",class:"carousel-container"},me=["src"],pe={class:"description"},ve={class:"price"};function be(e,a,o,t,l,i){return(0,r.uX)(),(0,r.CE)("section",ue,[a[3]||(a[3]=(0,r.Lk)("h2",{class:"carousel-title"},"Oferta de laptops",-1)),(0,r.Lk)("button",{class:"arrow left",onClick:a[0]||(a[0]=(...e)=>i.scrollLeft&&i.scrollLeft(...e))},"←"),(0,r.Lk)("button",{class:"arrow right",onClick:a[1]||(a[1]=(...e)=>i.scrollRight&&i.scrollRight(...e))},"→"),(0,r.Lk)("div",de,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.products,((e,o)=>((0,r.uX)(),(0,r.CE)("div",{key:o,class:"product-card"},[(0,r.Lk)("img",{src:e.image,alt:"Producto"},null,8,me),(0,r.Lk)("h3",null,(0,c.v_)(e.name),1),(0,r.Lk)("p",pe,(0,c.v_)(e.description),1),(0,r.Lk)("p",ve,"S/ "+(0,c.v_)(e.price),1),a[2]||(a[2]=(0,r.Lk)("button",{class:"buy-button"},"Comprar",-1))])))),128))],512)])}var ge={name:"ProductComponent",data(){return{products:[{name:'HP Pavilion 14"',price:1999,image:"/home/product/image1.png",description:"Ligera, rápida y perfecta para estudiantes."},{name:"Lenovo Ideapad 3",price:1899,image:"/home/product/image2.png",description:"Potencia y diseño accesible para el hogar."},{name:"Asus ZenBook S",price:2499,image:"/home/product/image3.png",description:"Ultra delgada con gran autonomía."},{name:"MacBook Air M1",price:3999,image:"/home/product/image4.png",description:"Rendimiento silencioso con chip M1."},{name:"Dell XPS 13",price:2999,image:"/home/product/image5.png",description:"Pantalla infinita y gran rendimiento."},{name:"Huawei MateBook D15",price:1799,image:"/home/product/image6.png",description:"Equilibrio entre elegancia y potencia."}]}},methods:{scrollLeft(){this.$refs.carousel.scrollLeft-=300},scrollRight(){this.$refs.carousel.scrollLeft+=300}}};const fe=(0,g.A)(ge,[["render",be],["__scopeId","data-v-267f1394"]]);var ke=fe;const he={class:"carousel-wrapper"},_e={ref:"carousel",class:"carousel-container"},ye=["src"],Le={class:"description"},Ce={class:"price"};function Fe(e,a,o,t,l,i){return(0,r.uX)(),(0,r.CE)("section",he,[a[3]||(a[3]=(0,r.Lk)("h2",{class:"carousel-title"}," Oferta de combos",-1)),(0,r.Lk)("button",{class:"arrow left",onClick:a[0]||(a[0]=(...e)=>i.scrollLeft&&i.scrollLeft(...e))},"←"),(0,r.Lk)("button",{class:"arrow right",onClick:a[1]||(a[1]=(...e)=>i.scrollRight&&i.scrollRight(...e))},"→"),(0,r.Lk)("div",_e,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.products,((e,o)=>((0,r.uX)(),(0,r.CE)("div",{key:o,class:"product-card"},[(0,r.Lk)("img",{src:e.image,alt:"Producto"},null,8,ye),(0,r.Lk)("h3",null,(0,c.v_)(e.name),1),(0,r.Lk)("p",Le,(0,c.v_)(e.description),1),(0,r.Lk)("p",Ce,"S/ "+(0,c.v_)(e.price),1),a[2]||(a[2]=(0,r.Lk)("button",{class:"buy-button"},"Comprar",-1))])))),128))],512)])}var Ve={name:"ProductComponent",data(){return{products:[{name:'HP Pavilion 14"',price:1999,image:"/home/product/image1.png",description:"Ligera, rápida y perfecta para estudiantes."},{name:"Lenovo Ideapad 3",price:1899,image:"/home/product/image2.png",description:"Potencia y diseño accesible para el hogar."},{name:"Asus ZenBook S",price:2499,image:"/home/product/image3.png",description:"Ultra delgada con gran autonomía."},{name:"MacBook Air M1",price:3999,image:"/home/product/image4.png",description:"Rendimiento silencioso con chip M1."},{name:"Dell XPS 13",price:2999,image:"/home/product/image5.png",description:"Pantalla infinita y gran rendimiento."},{name:"Huawei MateBook D15",price:1799,image:"/home/product/image6.png",description:"Equilibrio entre elegancia y potencia."}]}},methods:{scrollLeft(){this.$refs.carousel.scrollLeft-=300},scrollRight(){this.$refs.carousel.scrollLeft+=300}}};const we=(0,g.A)(Ve,[["render",Fe],["__scopeId","data-v-5a612654"]]);var Ee=we;const Ae={class:"partner-carousel"},Pe={class:"partner-track"},Se=["src"];function Ie(e,a,o,t,l,i){return(0,r.uX)(),(0,r.CE)("div",Ae,[(0,r.Lk)("div",Pe,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.logosDoblados,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"partner-slide",key:a},[(0,r.Lk)("img",{src:e,alt:"Partner Logo"},null,8,Se)])))),128))])])}var Re={name:"PartnerCarousel",data(){return{logos:["/home/pather/image1.png","/home/pather/image2.png","/home/pather/image3.png","/home/pather/image4.png","/home/pather/image5.png"]}},computed:{logosDoblados(){return[...this.logos,...this.logos]}}};const We=(0,g.A)(Re,[["render",Ie],["__scopeId","data-v-3e357b32"]]);var De=We;const Oe={class:"footer"};function Ne(e,a){return(0,r.uX)(),(0,r.CE)("footer",Oe,a[0]||(a[0]=[(0,r.Fv)('<div class="footer-container" data-v-dd76dfae><div class="footer-column" data-v-dd76dfae><img src="/logo.jpeg" alt="La Bruja Logo" class="logo" data-v-dd76dfae><p data-v-dd76dfae>Consigue las mejores marcas a los mejores precios, aquí en La Bruja Store.</p><p data-v-dd76dfae>Síguenos en nuestras redes sociales:</p><div class="social-icons" data-v-dd76dfae><img src="/icon/facebook.svg" alt="Facebook" data-v-dd76dfae><img src="/icon/instagram.svg" alt="Instagram" data-v-dd76dfae><img src="/icon/tiktok.svg" alt="TikTok" data-v-dd76dfae></div></div><div class="footer-column" data-v-dd76dfae><h3 data-v-dd76dfae>CONTÁCTANOS</h3><hr data-v-dd76dfae><p data-v-dd76dfae>📱 CONTACTANOS</p><p data-v-dd76dfae>📍 AREQUIPA: C.C. CompuArequipa Tienda 133 y 219</p><p data-v-dd76dfae>📍 LIMA: C.C. Cyberplaza tienda 140 sector 2 B</p><p data-v-dd76dfae>📧 labrujastore@outlook.com</p></div><div class="footer-column" data-v-dd76dfae><h3 data-v-dd76dfae>POLÍTICAS</h3><hr data-v-dd76dfae><p data-v-dd76dfae>Nosotros</p><p data-v-dd76dfae>Políticas de Privacidad</p><p data-v-dd76dfae>Términos y Condiciones</p><p data-v-dd76dfae>Devoluciones</p></div></div>',1)]))}const Ue={},xe=(0,g.A)(Ue,[["render",Ne],["__scopeId","data-v-dd76dfae"]]);var Xe=xe,Ke={components:{HeaderCarousel:J,ProductComponent:se,OffertLaptopComponent:ke,OffertComboComponent:Ee,PatherComponent:De,FooterComponent:Xe}};const je=(0,g.A)(Ke,[["render",j]]);var Te=je,ze=o(222),Me=o(5939),$e=o(857),qe=o(4810),Be=o(6978),Je=o(6838),Ge=o(4629),He=o(1539),Qe=o(6731);const Ze={class:"text-red font-weight-bold text-lg"};function Ye(e,a,o,t,l,i){return(0,r.uX)(),(0,r.Wv)(Je.I,{fluid:"",class:"py-8"},{default:(0,r.k6)((()=>[(0,r.bF)(Ge.L,{dense:""},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.products,((e,o)=>((0,r.uX)(),(0,r.Wv)(He.B,{key:o,cols:"12",sm:"6",md:"4",lg:"3"},{default:(0,r.k6)((()=>[(0,r.bF)(ze.J,{class:"h-100",elevation:"4"},{default:(0,r.k6)((()=>[(0,r.bF)(Qe.y,{src:e.image,height:"180",cover:"",class:"rounded-t"},null,8,["src"]),(0,r.bF)(Me.r,{class:"text-wrap text-red"},{default:(0,r.k6)((()=>[(0,r.eW)((0,c.v_)(e.name),1)])),_:2},1024),(0,r.bF)($e.Z,{class:"text-grey-darken-1 text-sm"},{default:(0,r.k6)((()=>[(0,r.eW)((0,c.v_)(e.description),1)])),_:2},1024),(0,r.bF)(qe.O,null,{default:(0,r.k6)((()=>[(0,r.Lk)("div",Ze,"S/ "+(0,c.v_)(e.price),1)])),_:2},1024),(0,r.bF)(Be.S,null,{default:(0,r.k6)((()=>[(0,r.bF)(y.D,{color:"red-darken-2",variant:"flat",block:""},{default:(0,r.k6)((()=>a[0]||(a[0]=[(0,r.eW)(" Comprar ")]))),_:1,__:[0]})])),_:1})])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}var ea={name:"ProductList",data(){return{products:[{name:'HP Pavilion 14"',price:1999,image:"/home/product/image1.png",description:"Ligera, rápida y perfecta para estudiantes."},{name:"Lenovo Ideapad 3",price:1899,image:"/home/product/image2.png",description:"Potencia y diseño accesible para el hogar."},{name:"Asus ZenBook S",price:2499,image:"/home/product/image3.png",description:"Ultra delgada con gran autonomía."},{name:"MacBook Air M1",price:3999,image:"/home/product/image4.png",description:"Rendimiento silencioso con chip M1."},{name:"Dell XPS 13",price:2999,image:"/home/product/image5.png",description:"Pantalla infinita y gran rendimiento."},{name:"Huawei MateBook D15",price:1799,image:"/home/product/image6.png",description:"Equilibrio entre elegancia y potencia."}]}}};const aa=(0,g.A)(ea,[["render",Ye]]);var oa=aa,ta={__name:"CatalogView",setup(e){return(e,a)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[a[0]||(a[0]=(0,r.Lk)("h2",{class:"text-center text-2xl font-bold text-red mb-6"},"Catalogo",-1)),(0,r.bF)(oa)],64))}};const ra=ta;var la=ra;o(116);const ia="http://localhost:8080/api";function na(){return Q.get(`${ia}/roles`)}const ca={class:"form-group"},sa={class:"form-group"},ua={class:"form-group"},da={class:"form-group"},ma={class:"button-group"},pa={type:"submit",class:"btn-submit"};var va={__name:"LoginForm",emits:["submit"],setup(e,{emit:a}){const o=a,l=(0,_.rd)(),i=(0,h.KR)(""),n=(0,h.KR)(""),s=(0,h.KR)(""),u=(0,h.KR)(""),d=(0,h.KR)(!1),m=()=>{l.push("/")},p=()=>{d.value=!d.value},v=async()=>{if(d.value)try{const e=await na(),a=e?.data||[],t=a.find((e=>"CLIENTE"===e.nombre)),r=t?t.id:2,l={nombre:s.value,apellido:u.value,correo:i.value,contra:n.value,rol:{id:r}};o("submit",l,"register")}catch(e){console.error("Error al obtener roles:",e)}else{const e={correo:i.value,contra:n.value};o("submit",e,"login")}};return(e,a)=>((0,r.uX)(),(0,r.CE)("form",{onSubmit:(0,t.D$)(v,["prevent"]),class:"login-form"},[(0,r.Lk)("div",ca,[a[4]||(a[4]=(0,r.Lk)("label",{for:"correo"},"Correo electrónico",-1)),(0,r.bo)((0,r.Lk)("input",{id:"correo",type:"email","onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e),required:"",placeholder:"correo@example.com"},null,512),[[t.Jo,i.value]])]),(0,r.Lk)("div",sa,[a[5]||(a[5]=(0,r.Lk)("label",{for:"contra"},"Contraseña",-1)),(0,r.bo)((0,r.Lk)("input",{id:"contra",type:"password","onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),required:"",placeholder:"********"},null,512),[[t.Jo,n.value]])]),d.value?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.Lk)("div",ua,[a[6]||(a[6]=(0,r.Lk)("label",{for:"nombre"},"Nombre",-1)),(0,r.bo)((0,r.Lk)("input",{id:"nombre",type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>s.value=e),required:"",placeholder:"Tu nombre"},null,512),[[t.Jo,s.value]])]),(0,r.Lk)("div",da,[a[7]||(a[7]=(0,r.Lk)("label",{for:"apellido"},"Apellido",-1)),(0,r.bo)((0,r.Lk)("input",{id:"apellido",type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>u.value=e),required:"",placeholder:"Tu apellido"},null,512),[[t.Jo,u.value]])])],64)):(0,r.Q3)("",!0),(0,r.Lk)("div",ma,[(0,r.Lk)("button",pa,(0,c.v_)(d.value?"Registrarse":"Iniciar sesión"),1),(0,r.Lk)("button",{type:"button",class:"btn-back",onClick:m}," ← Volver al inicio "),(0,r.Lk)("button",{type:"button",class:"btn-toggle",onClick:p},(0,c.v_)(d.value?"¿Ya tienes cuenta?":"¿No estás registrado?"),1)])],32))}};const ba=(0,g.A)(va,[["__scopeId","data-v-eeae5cb8"]]);var ga=ba;const fa="http://localhost:8080/api";function ka(e){return console.log("URL base:",fa),Q.post(`${fa}/usuarios/login`,e)}function ha(e){return console.log("URL base:",fa),Q.post(`${fa}/usuarios`,e)}const _a={class:"login-page"},ya={class:"form-section"},La={class:"login-container"};var Ca={__name:"LoginView",setup(e){const a=(0,s.Pj)(),o=(0,_.rd)(),t=(0,h.KR)(!1),l=async(e,t)=>{if("login"===t)try{const t=await ka(e);if(t&&t.data&&200===t.status){const{id:e,nombre:r,apellido:l,correo:i,rol:n}=t.data;a.commit("setNombre",r),a.commit("setApellido",l),a.commit("setCorreo",i),a.commit("setId",e),a.commit("setRol",n?.nombre||""),a.commit("setAuthorize",!0),o.push("/")}else a.commit("setAuthorize",!1),alert("Credenciales incorrectas")}catch(r){a.commit("setAuthorize",!1),alert("Error al iniciar sesión")}if("register"===t)try{const a=await ha(e);a&&201===a.status?(alert("Usuario registrado correctamente. Ahora puedes iniciar sesión."),window.location.reload()):alert("No se pudo registrar el usuario.")}catch(r){console.error("Error al registrar usuario:",r),alert("Hubo un error durante el registro.")}};return(e,a)=>((0,r.uX)(),(0,r.CE)("div",_a,[a[0]||(a[0]=(0,r.Lk)("div",{class:"image-section"},null,-1)),(0,r.Lk)("div",ya,[(0,r.Lk)("div",La,[(0,r.Lk)("h1",null,(0,c.v_)(t.value?"Registrarse":"Iniciar Sesión"),1),(0,r.bF)(ga,{onSubmit:l})])])]))}};const Fa=(0,g.A)(Ca,[["__scopeId","data-v-3697c90b"]]);var Va=Fa,wa=o(3495),Ea=o(6825),Aa={__name:"DataTable",props:{productos:{type:Array,default:()=>[]}},emits:["editar","eliminar"],setup(e,{emit:a}){const o=a,t=[{title:"ID",key:"id"},{title:"Nombre",key:"nombre"},{title:"Precio (S/.)",key:"precioVenta"},{title:"Stock",key:"stock"},{title:"Categoría",key:"categoria"},{title:"Estado",key:"estado"},{title:"Acciones",key:"acciones",sortable:!1}],l=e=>{o("editar",e)},i=e=>{o("eliminar",e)};return(a,o)=>((0,r.uX)(),(0,r.Wv)(ze.J,null,{default:(0,r.k6)((()=>[(0,r.bF)(Ea.Py,{headers:t,items:e.productos,class:"elevation-1",density:"comfortable","item-value":"id"},{["item.categoria"]:(0,r.k6)((({item:e})=>[(0,r.eW)((0,c.v_)(e.categoria?.nombre||"Sin categoría"),1)])),["item.estado"]:(0,r.k6)((({item:e})=>[(0,r.bF)(wa.x,{color:e.estado?"green":"red","text-color":"white",small:""},{default:(0,r.k6)((()=>[(0,r.eW)((0,c.v_)(e.estado?"Activo":"Inactivo"),1)])),_:2},1032,["color"])])),["item.acciones"]:(0,r.k6)((({item:e})=>[(0,r.bF)(y.D,{icon:"",size:"small",onClick:a=>l(e)},{default:(0,r.k6)((()=>[(0,r.bF)(C.w,null,{default:(0,r.k6)((()=>o[0]||(o[0]=[(0,r.eW)("mdi-pencil")]))),_:1,__:[0]})])),_:2},1032,["onClick"]),(0,r.bF)(y.D,{icon:"",size:"small",color:"error",onClick:a=>i(e)},{default:(0,r.k6)((()=>[(0,r.bF)(C.w,null,{default:(0,r.k6)((()=>o[1]||(o[1]=[(0,r.eW)("mdi-delete")]))),_:1,__:[1]})])),_:2},1032,["onClick"])])),_:2},1032,["items"])])),_:1}))}};const Pa=Aa;var Sa=Pa;const Ia="http://localhost:8080/api";function Ra(){return Q.get(`${Ia}/categorias`)}function Wa(e){return Q.post(`${Ia}/categorias`,e)}var Da=o(1370),Oa=o(1529),Na=o(8295),Ua=o(5045),xa=o(4797),Xa=o(8267),Ka={__name:"FormCreate",emits:["submit"],setup(e,{emit:a}){const o=a,l=(0,h.KR)(),i=(0,h.KR)(!1),n=(0,h.Kh)({nombre:"",estado:!0,caracteristicas:"",stock:0,precioVenta:0,categoria:{id:null}}),c=(0,h.KR)(null),s=(0,h.KR)([]),u=()=>{if(!l.value.validate())return;const e=new FormData;e.append("producto",new Blob([JSON.stringify(n)],{type:"application/json"})),e.append("imagen",c.value),o("submit",e)},d=async()=>{try{const e=await Ra();e?.data&&(s.value=e.data)}catch(e){console.error("Error al cargar categorías:",e)}};return(0,r.sV)((()=>{d()})),(e,a)=>((0,r.uX)(),(0,r.Wv)(ze.J,{class:"pa-2","max-width":"600"},{default:(0,r.k6)((()=>[(0,r.bF)(Me.r,{class:"text-h6 text-center text-red"},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("Crear Producto")]))),_:1,__:[8]}),(0,r.bF)(L.G),(0,r.bF)(Oa.n,{onSubmit:(0,t.D$)(u,["prevent"]),ref_key:"formRef",ref:l,modelValue:i.value,"onUpdate:modelValue":a[7]||(a[7]=e=>i.value=e)},{default:(0,r.k6)((()=>[(0,r.bF)(xa.W,{modelValue:n.nombre,"onUpdate:modelValue":a[0]||(a[0]=e=>n.nombre=e),label:"Nombre del producto",rules:[e=>!!e||"Campo obligatorio"],density:"compact"},null,8,["modelValue","rules"]),(0,r.bF)(Xa.J,{modelValue:n.caracteristicas,"onUpdate:modelValue":a[1]||(a[1]=e=>n.caracteristicas=e),label:"Características",density:"compact"},null,8,["modelValue"]),(0,r.bF)(xa.W,{modelValue:n.precioVenta,"onUpdate:modelValue":a[2]||(a[2]=e=>n.precioVenta=e),modelModifiers:{number:!0},label:"Precio de venta",type:"number",density:"compact"},null,8,["modelValue"]),(0,r.bF)(xa.W,{modelValue:n.stock,"onUpdate:modelValue":a[3]||(a[3]=e=>n.stock=e),modelModifiers:{number:!0},label:"Stock",type:"number",density:"compact"},null,8,["modelValue"]),(0,r.bF)(Ua.N,{modelValue:n.estado,"onUpdate:modelValue":a[4]||(a[4]=e=>n.estado=e),label:"¿Activo?",density:"compact"},null,8,["modelValue"]),(0,r.bF)(Na.d4,{modelValue:n.categoria.id,"onUpdate:modelValue":a[5]||(a[5]=e=>n.categoria.id=e),items:s.value,"item-title":"nombre","item-value":"id",label:"Categoría",rules:[e=>!!e||"Selecciona una categoría"],density:"compact"},null,8,["modelValue","items","rules"]),(0,r.bF)(Da.f,{modelValue:c.value,"onUpdate:modelValue":a[6]||(a[6]=e=>c.value=e),label:"Imagen del producto",accept:"image/*",rules:[e=>!!e||"Selecciona una imagen"],density:"compact"},null,8,["modelValue","rules"]),(0,r.bF)(Be.S,{class:"justify-end"},{default:(0,r.k6)((()=>[(0,r.bF)(y.D,{color:"red",type:"submit",disabled:!i.value,density:"compact"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)(" Guardar Producto ")]))),_:1,__:[9]},8,["disabled"])])),_:1})])),_:1},8,["modelValue"])])),_:1}))}};const ja=Ka;var Ta=ja,za={__name:"UpdateForm",props:{producto:Object},emits:["submit"],setup(e,{emit:a}){const o=e,l=a,i=(0,h.KR)(),n=(0,h.KR)(!1),c=(0,h.Kh)({id:null,nombre:"",estado:!0,caracteristicas:"",stock:0,precioVenta:0,categoria:{id:null}}),s=(0,h.KR)(null),u=(0,h.KR)([]);(0,r.wB)((()=>o.producto),(e=>{e&&(c.id=e.id,c.nombre=e.nombre,c.estado=e.estado,c.caracteristicas=e.caracteristicas,c.stock=e.stock,c.precioVenta=e.precioVenta,c.categoria.id=e.categoria?.id||null)}),{immediate:!0});const d=()=>{const e=new FormData;e.append("producto",new Blob([JSON.stringify(c)],{type:"application/json"})),s.value&&e.append("imagen",s.value),l("submit",e,c.id)},m=async()=>{try{const e=await Ra();e?.data&&(u.value=e.data)}catch(e){console.error("Error cargando categorías",e)}};return(0,r.sV)((()=>{m()})),(e,a)=>((0,r.uX)(),(0,r.Wv)(ze.J,{class:"pa-4","max-width":"600"},{default:(0,r.k6)((()=>[(0,r.bF)(Me.r,{class:"text-h6 text-center",style:{color:"#b71c1c"}},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)(" Editar Producto ")]))),_:1,__:[8]}),(0,r.bF)(L.G,{class:"mb-4"}),(0,r.bF)(Oa.n,{onSubmit:(0,t.D$)(d,["prevent"]),ref_key:"formRef",ref:i,modelValue:n.value,"onUpdate:modelValue":a[7]||(a[7]=e=>n.value=e)},{default:(0,r.k6)((()=>[(0,r.bF)(xa.W,{modelValue:c.nombre,"onUpdate:modelValue":a[0]||(a[0]=e=>c.nombre=e),label:"Nombre del producto",density:"compact",class:"mb-3"},null,8,["modelValue"]),(0,r.bF)(Xa.J,{modelValue:c.caracteristicas,"onUpdate:modelValue":a[1]||(a[1]=e=>c.caracteristicas=e),label:"Características",rows:"3",density:"compact",class:"mb-3"},null,8,["modelValue"]),(0,r.bF)(xa.W,{modelValue:c.precioVenta,"onUpdate:modelValue":a[2]||(a[2]=e=>c.precioVenta=e),modelModifiers:{number:!0},label:"Precio de venta (S/.)",type:"number",density:"compact",class:"mb-3"},null,8,["modelValue"]),(0,r.bF)(xa.W,{modelValue:c.stock,"onUpdate:modelValue":a[3]||(a[3]=e=>c.stock=e),modelModifiers:{number:!0},label:"Stock",type:"number",density:"compact",class:"mb-3"},null,8,["modelValue"]),(0,r.bF)(Ua.N,{modelValue:c.estado,"onUpdate:modelValue":a[4]||(a[4]=e=>c.estado=e),label:"¿Activo?",inset:"",color:"red",class:"mb-3"},null,8,["modelValue"]),(0,r.bF)(Na.d4,{modelValue:c.categoria.id,"onUpdate:modelValue":a[5]||(a[5]=e=>c.categoria.id=e),items:u.value,"item-title":"nombre","item-value":"id",label:"Categoría",density:"compact",class:"mb-3"},null,8,["modelValue","items"]),(0,r.bF)(Da.f,{modelValue:s.value,"onUpdate:modelValue":a[6]||(a[6]=e=>s.value=e),label:"Imagen del producto",accept:"image/*",density:"compact","prepend-icon":"mdi-camera",class:"mb-2"},null,8,["modelValue"]),(0,r.bF)(Be.S,{class:"justify-end mt-4"},{default:(0,r.k6)((()=>[(0,r.bF)(y.D,{color:"red",type:"submit",disabled:!n.value,density:"compact"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)(" Guardar Producto ")]))),_:1,__:[9]},8,["disabled"])])),_:1})])),_:1},8,["modelValue"])])),_:1}))}};const Ma=za;var $a=Ma,qa=o(6832),Ba={__name:"ProductView",setup(e){const a=(0,h.KR)([]),o=(0,h.KR)(!1),t=(0,h.KR)(!1),l=(0,h.KR)(null),i=async()=>{try{const e=await Y();e&&(a.value=e.data)}catch{console.error("Error al listar productos")}},n=async e=>{try{const a=await ee(e);201!==a?.status&&200!==a?.status||(o.value=!1,await i())}catch(a){console.error("Error al guardar producto",a)}},c=e=>{l.value=e,t.value=!0},s=async(e,a)=>{try{const o=await ae(e,a);200===o?.status&&(t.value=!1,await i())}catch(o){console.error("Error al actualizar producto",o)}};return(0,r.sV)((()=>{i()})),(e,i)=>((0,r.uX)(),(0,r.Wv)(Je.I,{class:"mt-8 ml-2 mr-5 pr-10"},{default:(0,r.k6)((()=>[(0,r.bF)(Ge.L,{justify:"space-between",align:"center",class:"header-row"},{default:(0,r.k6)((()=>[i[4]||(i[4]=(0,r.Lk)("h1",{class:"titulo"},"Mantenimiento de Productos",-1)),(0,r.bF)(y.D,{color:"red","prepend-icon":"mdi-plus",class:"btn-agregar",onClick:i[0]||(i[0]=e=>o.value=!0)},{default:(0,r.k6)((()=>i[3]||(i[3]=[(0,r.eW)(" Nuevo Producto ")]))),_:1,__:[3]})])),_:1,__:[4]}),(0,r.bF)(Sa,{productos:a.value,onEditar:c,onEliminar:e.eliminarProducto},null,8,["productos","onEliminar"]),(0,r.bF)(qa.p,{modelValue:o.value,"onUpdate:modelValue":i[1]||(i[1]=e=>o.value=e),"max-width":"700"},{default:(0,r.k6)((()=>[(0,r.bF)(Ta,{onSubmit:n})])),_:1},8,["modelValue"]),(0,r.bF)(qa.p,{modelValue:t.value,"onUpdate:modelValue":i[2]||(i[2]=e=>t.value=e),"max-width":"700"},{default:(0,r.k6)((()=>[(0,r.bF)($a,{producto:l.value,onSubmit:s},null,8,["producto"])])),_:1},8,["modelValue"])])),_:1}))}};const Ja=(0,g.A)(Ba,[["__scopeId","data-v-2857ede2"]]);var Ga=Ja,Ha={__name:"DataTable",props:{items:{type:Array,default:()=>[]}},emits:["editar","eliminar"],setup(e,{emit:a}){const o=a,t=[{title:"ID",key:"id"},{title:"Nombre",key:"nombre"},{title:"Acciones",key:"acciones",sortable:!1}],l=e=>{o("editar",e)},i=e=>{o("eliminar",e)};return(a,o)=>((0,r.uX)(),(0,r.Wv)(ze.J,null,{default:(0,r.k6)((()=>[(0,r.bF)(Ea.Py,{headers:t,items:e.items,class:"elevation-1",density:"comfortable","item-value":"id"},{["item.categoria"]:(0,r.k6)((({item:e})=>[(0,r.eW)((0,c.v_)(e.categoria?.nombre||"Sin categoría"),1)])),["item.estado"]:(0,r.k6)((({item:e})=>[(0,r.bF)(wa.x,{color:e.estado?"green":"red","text-color":"white",small:""},{default:(0,r.k6)((()=>[(0,r.eW)((0,c.v_)(e.estado?"Activo":"Inactivo"),1)])),_:2},1032,["color"])])),["item.acciones"]:(0,r.k6)((({item:e})=>[(0,r.bF)(y.D,{icon:"",size:"small",onClick:a=>l(e)},{default:(0,r.k6)((()=>[(0,r.bF)(C.w,null,{default:(0,r.k6)((()=>o[0]||(o[0]=[(0,r.eW)("mdi-pencil")]))),_:1,__:[0]})])),_:2},1032,["onClick"]),(0,r.bF)(y.D,{icon:"",size:"small",color:"error",onClick:a=>i(e)},{default:(0,r.k6)((()=>[(0,r.bF)(C.w,null,{default:(0,r.k6)((()=>o[1]||(o[1]=[(0,r.eW)("mdi-delete")]))),_:1,__:[1]})])),_:2},1032,["onClick"])])),_:2},1032,["items"])])),_:1}))}};const Qa=Ha;var Za=Qa,Ya={__name:"FormCreate",emits:["submit"],setup(e,{emit:a}){const o=a,l=(0,h.KR)(!1),i=(0,h.Kh)({nombre:""}),n=()=>{o("submit",i)};return(e,a)=>((0,r.uX)(),(0,r.Wv)(ze.J,{class:"pa-2","max-width":"600"},{default:(0,r.k6)((()=>[(0,r.bF)(Me.r,{class:"text-h6 text-center text-red"},{default:(0,r.k6)((()=>a[2]||(a[2]=[(0,r.eW)("Crear Categoria")]))),_:1,__:[2]}),(0,r.bF)(L.G),(0,r.bF)(Oa.n,{onSubmit:(0,t.D$)(n,["prevent"]),ref:"formRef",modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value=e)},{default:(0,r.k6)((()=>[(0,r.bF)(xa.W,{modelValue:i.nombre,"onUpdate:modelValue":a[0]||(a[0]=e=>i.nombre=e),label:"Nombre de la categoria",rules:[e=>!!e||"Campo obligatorio"],density:"compact"},null,8,["modelValue","rules"]),(0,r.bF)(Be.S,{class:"justify-end"},{default:(0,r.k6)((()=>[(0,r.bF)(y.D,{color:"red",type:"submit",disabled:!l.value,density:"compact"},{default:(0,r.k6)((()=>a[3]||(a[3]=[(0,r.eW)(" Guardar Categoria ")]))),_:1,__:[3]},8,["disabled"])])),_:1})])),_:1},8,["modelValue"])])),_:1}))}};const eo=Ya;var ao=eo,oo={__name:"CategoryView",setup(e){const a=(0,h.KR)([]),o=(0,h.KR)(!1),t=(0,h.KR)(!1),l=(0,h.KR)(null),i=async()=>{try{const e=await Ra();e&&(a.value=e.data)}catch{console.error("Error al listar items")}},n=async e=>{try{const a=await Wa(e);201!==a?.status&&200!==a?.status||(o.value=!1,await i())}catch(a){console.error("Error al guardar item",a)}},c=e=>{l.value=e,t.value=!0},s=async(e,a)=>{try{const o=await ae(e,a);200===o?.status&&(t.value=!1,await i())}catch(o){console.error("Error al actualizar item",o)}};return(0,r.sV)((()=>{i()})),(e,i)=>((0,r.uX)(),(0,r.Wv)(Je.I,{class:"mt-8 ml-2 mr-5 pr-10"},{default:(0,r.k6)((()=>[(0,r.bF)(Ge.L,{justify:"space-between",align:"center",class:"header-row"},{default:(0,r.k6)((()=>[i[4]||(i[4]=(0,r.Lk)("h1",{class:"titulo"},"Mantenimiento de Categorias",-1)),(0,r.bF)(y.D,{color:"red","prepend-icon":"mdi-plus",class:"btn-agregar",onClick:i[0]||(i[0]=e=>o.value=!0)},{default:(0,r.k6)((()=>i[3]||(i[3]=[(0,r.eW)(" Nueva Categoria ")]))),_:1,__:[3]})])),_:1,__:[4]}),(0,r.bF)(Za,{items:a.value,onEditar:c,onEliminar:e.deleteItem},null,8,["items","onEliminar"]),(0,r.bF)(qa.p,{modelValue:o.value,"onUpdate:modelValue":i[1]||(i[1]=e=>o.value=e),"max-width":"700"},{default:(0,r.k6)((()=>[(0,r.bF)(ao,{onSubmit:n})])),_:1},8,["modelValue"]),(0,r.bF)(qa.p,{modelValue:t.value,"onUpdate:modelValue":i[2]||(i[2]=e=>t.value=e),"max-width":"700"},{default:(0,r.k6)((()=>[(0,r.bF)($a,{item:l.value,onSubmit:s},null,8,["item"])])),_:1},8,["modelValue"])])),_:1}))}};const to=(0,g.A)(oo,[["__scopeId","data-v-58c51115"]]);var ro=to;const lo={key:0,class:"detail-wrapper"},io={class:"image-container"},no=["src"],co={class:"info-container"},so={class:"title"},uo={class:"caracteristicas"},mo={class:"product-data"},po={class:"price-box"},vo={class:"quantity-box"};var bo={__name:"ProductDetailView",setup(e){const a=(0,s.Pj)(),o=(0,h.KR)(null),l=(0,h.KR)(1),i=e=>`http://localhost:8080/api/productos/${e}/imagen`,n=async()=>{try{const e=await Y();if(e?.data){const t=e.data,r=a.state.productoSeleccionado;o.value=t.find((e=>e.id===r))}}catch(e){console.error("Error cargando producto",e)}},u=()=>l.value++,d=()=>{l.value>1&&l.value--},m=()=>{if(!o.value)return;const e={cantidad:l.value,precioParcial:l.value*o.value.precioVenta,compra:{id:null},producto:{id:o.value.id}};a.commit("agregarAlCarrito",e),alert("Producto agregado al carrito.")};return(0,r.sV)((()=>{n()})),(e,a)=>o.value?((0,r.uX)(),(0,r.CE)("section",lo,[(0,r.Lk)("div",io,[(0,r.Lk)("img",{src:i(o.value.id),alt:"Imagen del producto"},null,8,no)]),(0,r.Lk)("div",co,[(0,r.Lk)("h1",so,(0,c.v_)(o.value.nombre),1),(0,r.Lk)("p",uo,(0,c.v_)(o.value.caracteristicas),1),(0,r.Lk)("ul",mo,[(0,r.Lk)("li",null,[a[1]||(a[1]=(0,r.Lk)("strong",null,"Estado:",-1)),(0,r.eW)(" "+(0,c.v_)(o.value.estado?"nuevo":"descontinuado"),1)]),(0,r.Lk)("li",null,[a[2]||(a[2]=(0,r.Lk)("strong",null,"En stock:",-1)),(0,r.eW)(" "+(0,c.v_)(o.value.stock),1)]),a[3]||(a[3]=(0,r.Lk)("li",null,[(0,r.Lk)("strong",null,"Lima:"),(0,r.eW)(" 2")],-1)),a[4]||(a[4]=(0,r.Lk)("li",null,[(0,r.Lk)("strong",null,"Arequipa:"),(0,r.eW)(" 0")],-1))]),(0,r.Lk)("div",po,[(0,r.Lk)("h2",null,"S/. "+(0,c.v_)(o.value.precioVenta),1),a[6]||(a[6]=(0,r.Lk)("p",null,"*Sin recargo adicional por pago en Efectivo o Transferencia.",-1)),a[7]||(a[7]=(0,r.Lk)("p",null,"Impuestos incluidos",-1)),(0,r.Lk)("div",vo,[(0,r.Lk)("button",{onClick:d},"−"),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),min:"1"},null,512),[[t.Jo,l.value]]),(0,r.Lk)("button",{onClick:u},"+")]),(0,r.Lk)("button",{class:"buy-btn",onClick:m},a[5]||(a[5]=[(0,r.Lk)("i",{class:"mdi mdi-cart"},null,-1),(0,r.eW)(" Agregar Carrito ")]))])])])):(0,r.Q3)("",!0)}};const go=(0,g.A)(bo,[["__scopeId","data-v-48a7576c"]]);var fo=go;o(7588),o(8237);const ko="http://localhost:8080/api";function ho(e){return Q.post(`${ko}/compras`,e)}function _o(e){return Q.post(`${ko}/detalles-compra`,e)}function yo(e){return Q.get(`${ko}/compras/usuario/${e}`)}const Lo={class:"cart-wrapper"},Co={key:0},Fo={key:0,class:"cart-table"},Vo=["src"],wo={class:"cart-total"},Eo={key:1,class:"login-form"},Ao={class:"form-group"},Po={class:"form-group"},So={key:2,class:"payment-form"},Io={class:"form-group"},Ro={class:"form-group"},Wo={key:1,class:"empty-cart"};var Do={__name:"CartShoppingView",setup(e){const a=(0,s.Pj)(),o=(0,_.rd)(),l=(0,h.KR)([]),i=(0,h.KR)(null),n=(0,h.KR)(1),u=(0,h.KR)(""),d=(0,h.KR)(""),m=(0,h.KR)(""),p=(0,h.KR)(""),v=e=>`http://localhost:8080/api/productos/${e}/imagen`,b=async()=>{try{const e=await Y();e?.data&&(l.value=e.data)}catch(e){console.error("Error al cargar productos",e)}},g=(0,r.EW)((()=>{const e={};return a.state.carrito.forEach((a=>{const o=a.producto.id,t=l.value.find((e=>e.id===o)),r=t?.nombre||"Producto desconocido",i=a.precioParcial/a.cantidad;e[o]||(e[o]={producto:a.producto,cantidad:0,subtotal:0,precioUnitario:i,nombre:r}),e[o].cantidad+=a.cantidad,e[o].subtotal+=a.precioParcial})),Object.values(e)})),f=(0,r.EW)((()=>g.value.reduce(((e,a)=>e+a.subtotal),0))),k=()=>{n.value++},y=()=>{n.value--},L=async()=>{try{const e=await ka({correo:u.value,contra:d.value});e?.data?.id?(i.value=e.data.id,k()):(alert("Usuario no registrado. Debes registrarte primero."),o.push("/register"))}catch(e){console.error("Error en login",e),alert("Error al iniciar sesión. Verifica tus credenciales.")}},C=async()=>{try{if(!m.value.trim())return void alert("Por favor ingresa tu dirección de entrega.");if(!p.value)return void alert("Por favor selecciona un método de pago.");const e={precioFinal:f.value,estado:"PAGADO",usuario:{id:i.value},promocion:null},t=await ho(e),r=t?.data?.id;if(!r)throw new Error("No se pudo crear la compra.");for(const o of a.state.carrito){const e={cantidad:o.cantidad,precioParcial:o.precioParcial,compra:{id:r},producto:{id:o.producto.id}};await _o(e)}alert("Compra realizada con éxito."),a.commit("limpiarCarrito"),o.push("/gracias")}catch(e){console.error("Error al realizar compra",e),alert("Ocurrió un error al procesar la compra.")}};return(0,r.sV)((()=>{b()})),(e,a)=>((0,r.uX)(),(0,r.CE)("section",Lo,[a[14]||(a[14]=(0,r.Lk)("h1",{class:"cart-title"},"Tu Carrito de Compras",-1)),g.value.length>0?((0,r.uX)(),(0,r.CE)("div",Co,[1===n.value?((0,r.uX)(),(0,r.CE)("div",Fo,[(0,r.Lk)("table",null,[a[4]||(a[4]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Producto"),(0,r.Lk)("th",null,"Imagen"),(0,r.Lk)("th",null,"Cantidad"),(0,r.Lk)("th",null,"Precio Unitario"),(0,r.Lk)("th",null,"Subtotal")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(g.value,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.producto.id},[(0,r.Lk)("td",null,(0,c.v_)(e.nombre),1),(0,r.Lk)("td",null,[(0,r.Lk)("img",{src:v(e.producto.id),alt:"Imagen",class:"product-img"},null,8,Vo)]),(0,r.Lk)("td",null,(0,c.v_)(e.cantidad),1),(0,r.Lk)("td",null,"S/ "+(0,c.v_)(e.precioUnitario.toFixed(2)),1),(0,r.Lk)("td",null,"S/ "+(0,c.v_)(e.subtotal.toFixed(2)),1)])))),128))])]),(0,r.Lk)("div",wo,[(0,r.Lk)("strong",null,"Total a pagar: S/ "+(0,c.v_)(f.value.toFixed(2)),1)]),(0,r.Lk)("div",{class:"cart-actions"},[(0,r.Lk)("button",{onClick:k,class:"continue-btn"},"Continuar")])])):(0,r.Q3)("",!0),2===n.value?((0,r.uX)(),(0,r.CE)("div",Eo,[a[8]||(a[8]=(0,r.Lk)("h2",{class:"form-title"},"Datos de Usuario",-1)),(0,r.Lk)("form",{onSubmit:(0,t.D$)(L,["prevent"])},[(0,r.Lk)("div",Ao,[a[5]||(a[5]=(0,r.Lk)("label",{for:"correo"},"Correo Electrónico",-1)),(0,r.bo)((0,r.Lk)("input",{id:"correo",type:"email","onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),placeholder:"ejemplo@correo.com",required:""},null,512),[[t.Jo,u.value]])]),(0,r.Lk)("div",Po,[a[6]||(a[6]=(0,r.Lk)("label",{for:"contrasena"},"Contraseña",-1)),(0,r.bo)((0,r.Lk)("input",{id:"contrasena",type:"password","onUpdate:modelValue":a[1]||(a[1]=e=>d.value=e),placeholder:"Tu contraseña",required:""},null,512),[[t.Jo,d.value]])]),(0,r.Lk)("div",{class:"form-actions"},[(0,r.Lk)("button",{type:"button",onClick:y,class:"back-btn"},"Atrás"),a[7]||(a[7]=(0,r.Lk)("button",{type:"submit",class:"continue-btn"},"Continuar",-1))])],32)])):(0,r.Q3)("",!0),3===n.value?((0,r.uX)(),(0,r.CE)("div",So,[a[13]||(a[13]=(0,r.Lk)("h2",{class:"form-title"},"Información de Pago",-1)),(0,r.Lk)("form",{onSubmit:(0,t.D$)(C,["prevent"])},[(0,r.Lk)("div",Io,[a[9]||(a[9]=(0,r.Lk)("label",{for:"direccion"},"Dirección de Entrega",-1)),(0,r.bo)((0,r.Lk)("textarea",{id:"direccion","onUpdate:modelValue":a[2]||(a[2]=e=>m.value=e),placeholder:"Ingresa tu dirección completa...",required:"",rows:"3"},null,512),[[t.Jo,m.value]])]),(0,r.Lk)("div",Ro,[a[11]||(a[11]=(0,r.Lk)("label",{for:"metodoPago"},"Método de Pago",-1)),(0,r.bo)((0,r.Lk)("select",{id:"metodoPago","onUpdate:modelValue":a[3]||(a[3]=e=>p.value=e),required:""},a[10]||(a[10]=[(0,r.Lk)("option",{value:""},"Selecciona un método",-1),(0,r.Lk)("option",{value:"efectivo"},"Efectivo",-1)]),512),[[t.u1,p.value]])]),(0,r.Lk)("div",{class:"form-actions"},[(0,r.Lk)("button",{type:"button",onClick:y,class:"back-btn"},"Atrás"),a[12]||(a[12]=(0,r.Lk)("button",{type:"submit",class:"pay-btn"},"Pagar Ahora",-1))])],32)])):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("p",Wo,"Tu carrito está vacío."))]))}};const Oo=(0,g.A)(Do,[["__scopeId","data-v-77dba238"]]);var No=Oo,Uo={__name:"DataTable",props:{items:{type:Array,default:()=>[]}},emits:["editar","eliminar"],setup(e,{emit:a}){const o=a,t=[{title:"ID",key:"id"},{title:"Cliente",key:"usuario"},{title:"Fecha",key:"fecha"},{title:"Precio Final",key:"precioFinal"},{title:"Estado",key:"estado"},{title:"Acciones",key:"acciones",sortable:!1}],l=e=>{o("editar",e)},i=e=>{o("eliminar",e)};return(a,o)=>((0,r.uX)(),(0,r.Wv)(ze.J,null,{default:(0,r.k6)((()=>[(0,r.bF)(Ea.Py,{headers:t,items:e.items,class:"elevation-1",density:"comfortable","item-value":"id"},{["item.usuario"]:(0,r.k6)((({item:e})=>[(0,r.eW)((0,c.v_)(e.usuario?.nombre)+" "+(0,c.v_)(e.usuario?.apellido),1)])),["item.fecha"]:(0,r.k6)((({item:e})=>[(0,r.eW)((0,c.v_)(new Date(e.fecha).toLocaleString()),1)])),["item.precioFinal"]:(0,r.k6)((({item:e})=>[(0,r.eW)(" S/ "+(0,c.v_)(e.precioFinal.toFixed(2)),1)])),["item.estado"]:(0,r.k6)((({item:e})=>[(0,r.bF)(wa.x,{color:"PAGADO"===e.estado?"green":"orange","text-color":"white",small:""},{default:(0,r.k6)((()=>[(0,r.eW)((0,c.v_)(e.estado),1)])),_:2},1032,["color"])])),["item.acciones"]:(0,r.k6)((({item:e})=>[(0,r.bF)(y.D,{icon:"",size:"small",onClick:a=>l(e)},{default:(0,r.k6)((()=>[(0,r.bF)(C.w,null,{default:(0,r.k6)((()=>o[0]||(o[0]=[(0,r.eW)("mdi-pencil")]))),_:1,__:[0]})])),_:2},1032,["onClick"]),(0,r.bF)(y.D,{icon:"",size:"small",color:"error",onClick:a=>i(e)},{default:(0,r.k6)((()=>[(0,r.bF)(C.w,null,{default:(0,r.k6)((()=>o[1]||(o[1]=[(0,r.eW)("mdi-delete")]))),_:1,__:[1]})])),_:2},1032,["onClick"])])),_:2},1032,["items"])])),_:1}))}};const xo=Uo;var Xo=xo,Ko={__name:"ShoppingView",setup(e){const a=(0,h.KR)([]),o=(0,h.KR)(!1),t=(0,h.KR)(!1),l=(0,h.KR)(null),i=(0,s.Pj)(),n=(0,r.EW)((()=>i.state.id)),c=async()=>{console.log(n,"sss");try{const e=await yo(n.value);e&&(a.value=e.data)}catch{console.error("Error al listar items")}},u=e=>{l.value=e,t.value=!0},d=async(e,a)=>{try{const o=await ae(e,a);200===o?.status&&(t.value=!1,await c())}catch(o){console.error("Error al actualizar item",o)}};return(0,r.sV)((()=>{c()})),(e,i)=>((0,r.uX)(),(0,r.Wv)(Je.I,{class:"mt-8 ml-2 mr-5 pr-10"},{default:(0,r.k6)((()=>[(0,r.bF)(Ge.L,{justify:"space-between",align:"center",class:"header-row"},{default:(0,r.k6)((()=>[i[4]||(i[4]=(0,r.Lk)("h1",{class:"titulo"},"Mantenimiento de Compras",-1)),(0,r.bF)(y.D,{color:"red","prepend-icon":"mdi-plus",class:"btn-agregar",onClick:i[0]||(i[0]=e=>o.value=!0)},{default:(0,r.k6)((()=>i[3]||(i[3]=[(0,r.eW)(" Nueva Compra ")]))),_:1,__:[3]})])),_:1,__:[4]}),(0,r.bF)(Xo,{items:a.value,onEditar:u,onEliminar:e.deleteItem},null,8,["items","onEliminar"]),(0,r.bF)(qa.p,{modelValue:o.value,"onUpdate:modelValue":i[1]||(i[1]=e=>o.value=e),"max-width":"700"},{default:(0,r.k6)((()=>[(0,r.bF)(ao,{onSubmit:e.createItem},null,8,["onSubmit"])])),_:1},8,["modelValue"]),(0,r.bF)(qa.p,{modelValue:t.value,"onUpdate:modelValue":i[2]||(i[2]=e=>t.value=e),"max-width":"700"},{default:(0,r.k6)((()=>[(0,r.bF)($a,{item:l.value,onSubmit:d},null,8,["item"])])),_:1},8,["modelValue"])])),_:1}))}};const jo=(0,g.A)(Ko,[["__scopeId","data-v-3adc270d"]]);var To=jo;const zo=[{path:"/",name:"Inicio",component:Te,meta:{requiresAuth:!1}},{path:"/catalog",name:"Catalogo",component:la,meta:{requiresAuth:!1}},{path:"/login",name:"Login",component:Va,meta:{requiresAuth:!1}},{path:"/productDetail",name:"productDetail",component:fo,meta:{requiresAuth:!1}},{path:"/cart",name:"cart",component:No,meta:{requiresAuth:!1}},{path:"/products",name:"Productos",component:Ga,meta:{requiresAuth:!0,allowedRoles:["ADMINISTRADOR"]}},{path:"/category",name:"Categoria",component:ro,meta:{requiresAuth:!0,allowedRoles:["ADMINISTRADOR"]}},{path:"/shopping",name:"shopping",component:To,meta:{requiresAuth:!0,allowedRoles:["CLIENTE"]}},{path:"/:pathMatch(.*)*",redirect:()=>{const e=K.state.authorize,a=K.state.user?.role||K.state.role;return e?"CLIENTE"===a?"/shopping":"/products":"/"}}],Mo=(0,_.aE)({history:(0,_.LA)(),routes:zo}),$o=e=>{switch(e){case"CLIENTE":return"/shopping";case"ADMINISTRADOR":default:return"/products"}};Mo.beforeEach(((e,a,o)=>{const t=K.state.authorize,r=K.state.rol,l=e.meta.requiresAuth,i=e.meta.allowedRoles;if(console.log("🔍 Navegación:",{to:e.path,from:a.path,userRole:r,isAuthorized:t}),l&&!t)return console.log("🔴 Acceso denegado: Usuario no autorizado"),void o("/login");if(t&&"Login"===e.name){console.log("🟢 Usuario ya autenticado, redirigiendo según rol");const a=$o(r);if(e.path!==a)return void o(a)}if(t&&"/"===e.path){console.log("🟢 Usuario autorizado, redirigiendo a vista principal según rol");const e=$o(r);o(e)}else{if(l&&i&&!i.includes(r)){console.log(`🔴 Acceso denegado: Rol ${r} no permitido para esta ruta`);const a=$o(r);return e.path!==a?void o(a):(console.log("⚠️ Error de configuración: usuario sin permisos para su ruta por defecto"),void o("/"))}o()}}));var qo=Mo,Bo=(o(5524),o(6306)),Jo=(0,Bo.$N)({components:{VApp:l.E,VMain:i.Y,VContainer:Je.I,VBtn:y.D,VCarousel:T.n,VCarouselItem:z.q}});async function Go(){const e=await o.e(53).then(o.t.bind(o,8874,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}Go(),(0,t.Ef)(N).use(K).use(qo).use(Jo).mount("#app")}},a={};function o(t){var r=a[t];if(void 0!==r)return r.exports;var l=a[t]={exports:{}};return e[t].call(l.exports,l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(a,t,r,l){if(!t){var i=1/0;for(u=0;u<e.length;u++){t=e[u][0],r=e[u][1],l=e[u][2];for(var n=!0,c=0;c<t.length;c++)(!1&l||i>=l)&&Object.keys(o.O).every((function(e){return o.O[e](t[c])}))?t.splice(c--,1):(n=!1,l<i&&(i=l));if(n){e.splice(u--,1);var s=r();void 0!==s&&(a=s)}}return a}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[t,r,l]}}(),function(){o.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(a,{a:a}),a}}(),function(){var e,a=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};o.t=function(t,r){if(1&r&&(t=this(t)),8&r)return t;if("object"===typeof t&&t){if(4&r&&t.__esModule)return t;if(16&r&&"function"===typeof t.then)return t}var l=Object.create(null);o.r(l);var i={};e=e||[null,a({}),a([]),a(a)];for(var n=2&r&&t;"object"==typeof n&&!~e.indexOf(n);n=a(n))Object.getOwnPropertyNames(n).forEach((function(e){i[e]=function(){return t[e]}}));return i["default"]=function(){return t},o.d(l,i),l}}(),function(){o.d=function(e,a){for(var t in a)o.o(a,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(a,t){return o.f[t](e,a),a}),[]))}}(),function(){o.u=function(e){return"js/webfontloader.5ca4b9ed.js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={},a="labrujastore-frontend:";o.l=function(t,r,l,i){if(e[t])e[t].push(r);else{var n,c;if(void 0!==l)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var d=s[u];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==a+l){n=d;break}}n||(c=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,o.nc&&n.setAttribute("nonce",o.nc),n.setAttribute("data-webpack",a+l),n.src=t),e[t]=[r];var m=function(a,o){n.onerror=n.onload=null,clearTimeout(p);var r=e[t];if(delete e[t],n.parentNode&&n.parentNode.removeChild(n),r&&r.forEach((function(e){return e(o)})),a)return a(o)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),c&&document.head.appendChild(n)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={524:0};o.f.j=function(a,t){var r=o.o(e,a)?e[a]:void 0;if(0!==r)if(r)t.push(r[2]);else{var l=new Promise((function(o,t){r=e[a]=[o,t]}));t.push(r[2]=l);var i=o.p+o.u(a),n=new Error,c=function(t){if(o.o(e,a)&&(r=e[a],0!==r&&(e[a]=void 0),r)){var l=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;n.message="Loading chunk "+a+" failed.\n("+l+": "+i+")",n.name="ChunkLoadError",n.type=l,n.request=i,r[1](n)}};o.l(i,c,"chunk-"+a,a)}},o.O.j=function(a){return 0===e[a]};var a=function(a,t){var r,l,i=t[0],n=t[1],c=t[2],s=0;if(i.some((function(a){return 0!==e[a]}))){for(r in n)o.o(n,r)&&(o.m[r]=n[r]);if(c)var u=c(o)}for(a&&a(t);s<i.length;s++)l=i[s],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(u)},t=self["webpackChunklabrujastore_frontend"]=self["webpackChunklabrujastore_frontend"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=o.O(void 0,[504],(function(){return o(4137)}));t=o.O(t)})();
//# sourceMappingURL=app.0998a8aa.js.map